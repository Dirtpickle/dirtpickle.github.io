<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Development - Dirtpickle's Portfolio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <main class="main-content">
        <div class="container">
            <div class="hero">
                <h1>Game Development</h1>
                <p>Interactive experiences and games</p>
            </div>

            <section class="project-section">
                <div class="project-showcase">

                    <div class="game-container">
                        <div id="game-preview-0" class="game-preview">
                            <div class="game-thumbnail">
                                <img src="thumbnails/games/game_thumb.gif" alt="Attack of the Pigmen" class="game-thumbnail-img" style="transform: translate(0px, 0px);">
                                <div class="game-play-overlay" data-game-index="0">
                                    <div class="game-play-icon"></div>
                                </div>
                                <div class="game-title-overlay">
                                    <h3>Attack of the Pigmen</h3>
                                    <p>Top-Down Rogue-Like Shooter. Click to Play!</p>
                                </div>
                            </div>
                        </div>
                        <iframe
                            id="game-iframe-0"
                            src=""
                            data-embed-url="https://itch.io/embed-upload/5666853?color=000000"
                            frameborder="0"
                            allowfullscreen
                            width="640"
                            height="380"
                            style="display:none;max-width:100%;border-radius:8px;">
                            <a href="https://itch.io/embed-upload/5666853?color=000000">Play Attack of the Pigmen on itch.io</a>
                        </iframe>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <script src="script.js"></script>
    <script>
    // Dynamic nav.html loader
    (function(){
            fetch('nav.html').then(r=>r.text()).then(html=>{
                const navDiv = document.createElement('div');
                navDiv.innerHTML = html;
                document.body.insertBefore(navDiv, document.body.firstChild);
                const gameLinks = document.querySelectorAll('a[href="game-development.html"]');
                gameLinks.forEach(link => link.classList.add('active'));
                setTimeout(setupMobileMenu, 50);
            });
    })();
    // Game loading functionality
    document.addEventListener('DOMContentLoaded', function() {
        const gameOverlays = document.querySelectorAll('.game-play-overlay');

        gameOverlays.forEach(overlay => {
            overlay.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const gameIndex = this.getAttribute('data-game-index');
                const gamePreview = document.getElementById('game-preview-' + gameIndex);
                const gameIframe = document.getElementById('game-iframe-' + gameIndex);
                const gameContainer = gamePreview.closest('.game-container');
                const embedUrl = gameIframe.getAttribute('data-embed-url');

                if (gamePreview) gamePreview.style.display = 'none';
                if (gameIframe && embedUrl) {
                    gameIframe.src = embedUrl;
                    gameIframe.style.display = 'block';
                }
                
                // Add game-active class to disable hover animations
                if (gameContainer) {
                    gameContainer.classList.add('game-active');
                }
            });
        });
    });
    </script>
</body>
</html>